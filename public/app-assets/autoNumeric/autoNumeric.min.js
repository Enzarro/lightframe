!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.autonumeric=t(require("jquery")):e.autonumeric=t(e.jQuery)}(this,function(e){return function(e){function t(i){if(a[i])return a[i].exports;var n=a[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){var i,n,r;a(1),a(1);(function(){"use strict";var s=function(){function e(e,t){var a=[],i=!0,n=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);i=!0);}catch(e){n=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=void 0,l=void 0,c=void 0;!function(s){n=[a(1)],i=s,r="function"==typeof i?i.apply(t,n):i,!(void 0!==r&&(e.exports=r))}(function(e){function t(e){return void 0===e}function a(e){return null===e||void 0===e||""===e}function i(e){return"string"==typeof e||e instanceof String}function n(e,t){return!(!i(e)||!i(t)||""===e||""===t)&&e.indexOf(t)!==-1}function r(e,a){return!(!g(a)||a===[]||t(e)||""===e||null===e)&&a.indexOf(e)!==-1}function g(e){if("[object Array]"===Object.prototype.toString.call([]))return Array.isArray(e)||"object"===("undefined"==typeof e?"undefined":o(e))&&"[object Array]"===Object.prototype.toString.call(e);throw new Error("toString message changed for Object Array")}function h(e){var a={};if(t(e.selectionStart)){e.focus();var i=document.selection.createRange();a.length=i.text.length,i.moveStart("character",-e.value.length),a.end=i.text.length,a.start=a.end-a.length}else a.start=e.selectionStart,a.end=e.selectionEnd,a.length=a.end-a.start;return a}function p(e,a,i){if(t(e.selectionStart)){e.focus();var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",a),n.select()}else e.selectionStart=a,e.selectionEnd=i}function f(e,t){if(t)throw new Error(e)}function d(t,a){e.each(a,function(e,i){"function"==typeof i?a[e]=i(t,a,e):"function"==typeof t.autoNumeric[i]&&(a[e]=t.autoNumeric[i](t,a,e))})}function m(e,t){var a=0,i=0;return t[1]&&(a=t[1].length),e[1]&&(i=e[1].length),Math.max(a,i)}function v(e,t){d(e,t);var a=t.vMax.toString().split("."),i=t.vMin||0===t.vMin?t.vMin.toString().split("."):[];t.aNeg=t.vMin<0?"-":"",a[0]=a[0].replace("-",""),i[0]=i[0].replace("-",""),t.mIntPos=Math.max(a[0].length,1),t.mIntNeg=Math.max(i[0].length,1),null===t.mDec?(t.mDec=m(i,a),t.oDec=t.mDec):t.mDec=Number(t.mDec),t.mDec=t.scaleDivisor&&t.scaleDecimal?t.scaleDecimal:t.mDec,null===t.altDec&&t.mDec>0&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec="."));var n=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=n,t.skipFirstAutoStrip=new RegExp(n+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var r="-0123456789\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+r+"]","gi"),t.numRegAutoStrip=new RegExp(n+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function N(e,a){if(""!==a.aSign&&(e=e.replace(a.aSign,"")),a.aSuffix)for(;n(e,a.aSuffix);)e=e.replace(a.aSuffix,"");e=e.replace(a.skipFirstAutoStrip,"$1$2"),("s"===a.pNeg||"s"===a.pSign&&"p"!==a.pNeg)&&n(e,"-")&&""!==e&&(a.trailingNegative=!0),e=e.replace(a.skipLastAutoStrip,"$1"),e=e.replace(a.allowedAutoStrip,""),a.altDec&&(e=e.replace(a.altDec,a.aDec));var i=e.match(a.numRegAutoStrip);if(e=i?[i[1],i[2],i[3]].join(""):"","allow"===a.lZero||"keep"===a.lZero){var r="",o=e.split(a.aDec),u=s(o,2),l=u[0],c=u[1],g=l;n(g,a.aNeg)&&(r=a.aNeg,g=g.replace(a.aNeg,"")),""===r&&g.length>a.mIntPos&&"0"===g.charAt(0)&&(g=g.slice(1)),""!==r&&g.length>a.mIntNeg&&"0"===g.charAt(0)&&(g=g.slice(1)),e=""+r+g+(t(c)?"":a.aDec+c)}if(a.onOff&&"deny"===a.lZero||"allow"===a.lZero&&a.onOff===!1){var h="^"+a.aNegRegAutoStrip+"0*(\\d)";h=new RegExp(h),e=e.replace(h,"$1$2")}return e}function S(e,t){if("p"===t.pSign&&"l"===t.pNeg||"s"===t.pSign&&"p"===t.pNeg){var a=t.nBracket.split(","),i=s(a,2),n=i[0],r=i[1];t.onOff?t.onOff&&e.charAt(0)===n&&(e=e.replace(n,t.aNeg),e=e.replace(r,"")):(e=e.replace(t.aNeg,""),e=n+e+r)}return e}function y(e){return e=e.replace(",","."),n(e,"-")&&e.lastIndexOf("-")===e.length-1&&(e=e.replace("-",""),e="-"+e),e}function D(e,t){return".-"===t&&(e=n(e,"-")?e.replace("-","")+"-":e),","!==t&&"-,"!==t||(e=e.replace(".",",")),",-"===t&&(e=e.replace(".",","),e=n(e,"-")?e.replace("-","")+"-":e),e}function w(e,t,a){return t&&"."!==t&&(e=e.replace(t,".")),a&&"-"!==a&&(e=e.replace(a,"-")),e.match(/\d/)||(e+="0"),e}function b(e,t){return t.aNeg&&"-"!==t.aNeg&&(e=e.replace("-",t.aNeg)),t.aDec&&"."!==t.aDec&&(e=e.replace(".",t.aDec)),e}function x(e,t,a){return""===e||e===t.aNeg?"always"===t.wEmpty||a?"l"===t.pNeg?e+t.aSign+t.aSuffix:t.aSign+e+t.aSuffix:e:null}function k(e,a){a.strip&&(e=N(e,a)),a.trailingNegative&&!n(e,"-")&&(e="-"+e);var i=x(e,a,!0),r=n(e,"-");if(r&&(e=e.replace("-","")),null!==i)return i;var o="";a.dGroup=a.dGroup.toString(),o="2"===a.dGroup?/(\d)((\d)(\d{2}?)+)$/:"2s"===a.dGroup?/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/:"4"===a.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var u=e.split(a.aDec),l=s(u,2),c=l[0],g=l[1];if(a.altDec&&t(g)){var h=e.split(a.altDec),p=s(h,2);c=p[0],g=p[1]}if(""!==a.aSep)for(;o.test(c);)c=c.replace(o,"$1"+a.aSep+"$2");return 0===a.mDec||t(g)?e=c:(g.length>a.mDec&&(g=g.substring(0,a.mDec)),e=c+a.aDec+g),"p"===a.pSign&&(r&&"l"===a.pNeg&&(e=a.aNeg+a.aSign+e),r&&"r"===a.pNeg&&(e=a.aSign+a.aNeg+e),r&&"s"===a.pNeg&&(e=a.aSign+e+a.aNeg),r||(e=a.aSign+e)),"s"===a.pSign&&(r&&"r"===a.pNeg&&(e=e+a.aSign+a.aNeg),r&&"l"===a.pNeg&&(e=e+a.aNeg+a.aSign),r&&"p"===a.pNeg&&(e=a.aNeg+e+a.aSign),r||(e+=a.aSign)),null!==a.nBracket&&(a.rawValue<0||"-"===e.charAt(0))&&(e=S(e,a)),a.trailingNegative=!1,e+a.aSuffix}function C(e,t){var a=void 0;switch(t){case 0:a=/(\.(?:\d*[1-9])?)0*$/;break;case 1:a=/(\.\d(?:\d*[1-9])?)0*$/;break;default:a=new RegExp("(\\.\\d{"+t+"}(?:\\d*[1-9])?)0*")}return e=e.replace(a,"$1"),0===t&&(e=e.replace(/\.$/,"")),e}function A(e,t){if(e=""===e?"0":e.toString(),"N05"===t.mRound||"CHF"===t.mRound||"U05"===t.mRound||"D05"===t.mRound){switch(t.mRound){case"N05":e=(Math.round(20*e)/20).toString();break;case"U05":e=(Math.ceil(20*e)/20).toString();break;default:e=(Math.floor(20*e)/20).toString()}var a=void 0;return a=n(e,".")?e.length-e.indexOf(".")<3?e+"0":e:e+".00"}var i="",r=0,s="",o=void 0;o=t.aPad?t.mDec:0,"-"===e.charAt(0)&&(s="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===s&&0===Number(e)&&(s=""),(Number(e)>0&&"keep"!==t.lZero||e.length>0&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var u=e.lastIndexOf("."),l=u===-1?e.length-1:u,c=e.length-1-l;if(c<=t.mDec){if(i=e,c<o){u===-1&&(i+=t.aDec);for(var g="000000";c<o;)g=g.substring(0,o-c),i+=g,c+=g.length}else c>o?i=C(i,o):0===c&&0===o&&(i=i.replace(/\.$/,""));return 0===Number(i)?i:s+i}var h=u+t.mDec,p=Number(e.charAt(h+1)),f="."===e.charAt(h)?e.charAt(h-1)%2:e.charAt(h)%2,d=e.substring(0,h+1).split("");if(p>4&&"S"===t.mRound||p>4&&"A"===t.mRound&&""===s||p>5&&"A"===t.mRound&&"-"===s||p>5&&"s"===t.mRound||p>5&&"A"===t.mRound&&""===s||p>4&&"A"===t.mRound&&"-"===s||p>5&&"B"===t.mRound||5===p&&"B"===t.mRound&&1===f||p>0&&"C"===t.mRound&&""===s||p>0&&"F"===t.mRound&&"-"===s||p>0&&"U"===t.mRound)for(r=d.length-1;r>=0;r-=1)if("."!==d[r]){if(d[r]=+d[r]+1,d[r]<10)break;r>0&&(d[r]="0")}return d=d.slice(0,h+1),i=C(d.join(""),o),0===Number(i)?i:s+i}function O(e,t,a){var i=t.aDec,n=t.mDec;if(e="paste"===a?A(e,t):e,i&&n){var r=e.split(i),o=s(r,2),u=o[0],l=o[1];if(l&&l.length>n)if(n>0){var c=l.substring(0,n);e=""+u+i+c}else e=u}return e}function B(e){var t={},a=void 0,i=void 0,n=void 0,r=void 0;if(0===e&&1/e<0&&(e="-0"),e=e.toString(),"-"===e.charAt(0)?(e=e.slice(1),t.s=-1):t.s=1,a=e.indexOf("."),a>-1&&(e=e.replace(".","")),a<0&&(a=e.length),i=e.search(/[1-9]/i)===-1?e.length:e.search(/[1-9]/i),n=e.length,i===n)t.e=0,t.c=[0];else{for(r=n-1;"0"===e.charAt(r);r-=1)n-=1;for(n-=1,t.e=a-i-1,t.c=[],a=0;i<=n;i+=1)t.c[a]=+e.charAt(i),a+=1}return t}function V(e,t){var a=t.c,i=e.c,n=t.s,r=e.s,s=t.e,o=e.e;if(!a[0]||!i[0]){var u=void 0;return u=a[0]?n:i[0]?-r:0}if(n!==r)return n;var l=n<0;if(s!==o)return s>o^l?1:-1;for(n=-1,s=a.length,o=i.length,r=s<o?s:o,n+=1;n<r;n+=1)if(a[n]!==i[n])return a[n]>i[n]^l?1:-1;var c=void 0;return c=s===o?0:s>o^l?1:-1}function P(e,t){e=e.toString(),e=e.replace(",",".");var a=B(t.vMin),i=B(t.vMax),n=B(e),r=void 0;switch(t.oLimits){case"floor":r=[V(a,n)>-1,!0];break;case"ceiling":r=[!0,V(i,n)<1];break;case"ignore":r=[!0,!0];break;default:r=[V(a,n)>-1,V(i,n)<1]}return r}function E(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/\[/g,"\\[").replace(/]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),e(t)}function M(e,a,i){var n=e.data("autoNumeric");n||(n={},e.data("autoNumeric",n));var r=n.holder;return(t(r)&&a||i)&&(r=new $(e.get(0),a),n.holder=r),r}function R(e){return e.oDec=e.mDec,e.oPad=e.aPad,e.oBracket=e.nBracket,e.oSep=e.aSep,e.oSign=e.aSign,e.oSuffix=e.aSuffix,e}function F(e){for(var t=e+"=",a=document.cookie.split(";"),i="",n=0;n<a.length;n+=1){for(i=a[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}function j(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}function I(e,a,i){if(a.aStor){var n=""===e[0].name||t(e[0].name)?"AUTO_"+e[0].id:"AUTO_"+decodeURIComponent(e[0].name),r=void 0,s=void 0;if(j()===!1)switch(i){case"set":document.cookie=n+"="+a.rawValue+"; expires= ; path=/";break;case"wipe":r=new Date,r.setTime(r.getTime()+-864e5),s="; expires="+r.toUTCString(),document.cookie=n+"='' ;"+s+"; path=/";break;case"get":return F(n)}else switch(i){case"set":sessionStorage.setItem(n,a.rawValue);break;case"wipe":sessionStorage.removeItem(n);break;case"get":return sessionStorage.getItem(n)}}}function $(t,a){this.settings=a,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=v(this.$that,this.settings),this.value=t.value}function L(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments[1],i=E(e(a)),n=e("form").index(i),r=e("form:eq("+n+")")[0],u=[],l=[],c=/^(?:submit|button|image|reset|file)$/i,g=/^(?:input|select|textarea|keygen)/i,h=/^(?:checkbox|radio)$/i,p=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,f=0;if(e.each(r,function(e,t){""===t.name||!g.test(t.localName)||c.test(t.type)||t.disabled||!t.checked&&h.test(t.type)?l.push(-1):(l.push(f),f++)}),f=0,e.each(r,function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(u.push(-1),"input"===t.localName&&p.test(t.type)&&f++):(u.push(f),f++)}),t){var d=i.serializeArray();return e.each(d,function(t,a){var i=e.inArray(t,l);if(i>-1&&u[i]>-1){var r=e("form:eq("+n+") input:eq("+u[i]+")"),s=r.data("autoNumeric");"object"===("undefined"==typeof s?"undefined":o(s))&&(a.value=r.autoNumeric("get",s.localeOutput).toString())}}),d}var m=function(){var t=i.serialize(),a=t.split("&");return e.each(a,function(t){var i=a[t].split("="),r=s(i,2),c=r[0],g=r[1],h=e.inArray(t,l);if(h>-1&&u[h]>-1){var p=e("form:eq("+n+") input:eq("+u[h]+")"),f=p.data("autoNumeric");if("object"===("undefined"==typeof f?"undefined":o(f))&&null!==g){var d=p.autoNumeric("get",f.localeOutput).toString();a[t]=c+"="+d}}}),{v:a.join("&")}}();if("object"===("undefined"==typeof m?"undefined":o(m)))return m.v}function q(e,t){return new CustomEvent(e,{detail:t,bubbles:!1,cancelable:!1})}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return document.dispatchEvent(q(e,t))}var K={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,Windows:91,RightClick:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,MultiplyNumpad:106,PlusNumpad:107,MinusNumpad:109,DotNumpad:110,SlashNumpad:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,MyComputer:182,MyCalculator:183,Semicolon:186,Equal:187,Comma:188,Hyphen:189,Dot:190,Slash:191,Backquote:192,LeftBracket:219,Backslash:220,RightBracket:221,Quote:222,Command:224};$.prototype={init:function(e){this.value=this.that.value,this.settingsClone=v(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=h(this.that),"keydown"!==e.type&&"keyup"!==e.type||(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,a,i){e=Math.max(e,0),a=Math.min(a,this.that.value.length),this.selection={start:e,end:a,length:a-e},(t(i)||i)&&p(this.that,e,a)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),a=e.substring(this.selection.end,e.length);return[t,a]},getBeforeAfterStriped:function(){var e=this.settingsClone,t=this.getBeforeAfter(),a=s(t,2),i=a[0],r=a[1];return i=N(i,this.settingsClone),r=N(r,this.settingsClone),e.trailingNegative&&!n(i,"-")&&(i="-"+i,r="-"===r?"":r),e.trailingNegative=!1,[i,r]},normalizeParts:function(e,t){var a=this.settingsClone;if(e=N(e,a),t=N(t,a),a.trailingNegative&&!n(e,"-")&&(e="-"+e,a.trailingNegative=!1),""!==e&&e!==a.aNeg||"deny"!==a.lZero||t>""&&(t=t.replace(/^0*(\d)/,"$1")),this.newValue=e+t,a.aDec){var i=this.newValue.match(new RegExp("^"+a.aNegRegAutoStrip+"\\"+a.aDec));i&&(e=e.replace(i[1],i[1]+"0"),this.newValue=e+t)}return[e,t]},setValueParts:function(e,t,a){var i=this.settingsClone,r=this.normalizeParts(e,t),o=P(this.newValue,i),u=s(o,2),l=u[0],c=u[1],g=r[0].length;if(this.newValue=r.join(""),l&&c){this.newValue=O(this.newValue,i,a);var h=n(this.newValue,",")?this.newValue.replace(",","."):this.newValue;return""===h||h===i.aNeg?i.rawValue="":i.rawValue=h,g>this.newValue.length&&(g=this.newValue.length),this.value=this.newValue,this.setPosition(g,!1),!0}return l?c||this.$that.trigger("autoNumeric:maxExceeded"):this.$that.trigger("autoNumeric:minExceeded"),!1},signPosition:function(){var e=this.settingsClone,t=e.aSign,a=this.that;if(t){var i=t.length;if("p"===e.pSign){var n=e.aNeg&&a.value&&a.value.charAt(0)===e.aNeg;return n?[1,i+1]:[0,i]}var r=a.value.length;return[r-i,r]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),a=this.selection;a.start<t[1]&&a.end>t[0]&&((a.start<t[0]||a.end>t[1])&&this.value.substring(Math.max(a.start,t[0]),Math.min(a.end,t[1])).match(/^\s*$/)?a.start<t[0]?this.setSelection(a.start,t[0],e):this.setSelection(t[1],a.end,e):this.setSelection(Math.min(a.start,t[0]),Math.max(a.end,t[1]),e))},checkPaste:function(){if(!t(this.valuePartsBeforePaste)){var e=this.valuePartsBeforePaste,a=this.getBeforeAfter(),i=s(a,2),n=i[0],r=i[1];delete this.valuePartsBeforePaste;var o=n.substr(0,e[0].length)+N(n.substr(e[0].length),this.settingsClone);this.setValueParts(o,r,"paste")||(this.value=e.join(""),this.setPosition(e[0].length,!1))}},skipAlways:function(e){var a=this.kdCode,i=this.which,r=this.ctrlKey,s=this.cmdKey,o=this.shiftKey;if((r||s)&&"keyup"===e.type&&!t(this.valuePartsBeforePaste)||o&&a===K.Insert)return this.checkPaste(),!1;if(a>=K.F1&&a<=K.F12||a>=K.Windows&&a<=K.RightClick||a>=K.Tab&&a<K.Space||a<K.Backspace&&(0===i||i===a)||a===K.NumLock||a===K.ScrollLock||a===K.Insert||a===K.Command)return!0;if((r||s)&&a===K.a){if(this.settings.sNumber){e.preventDefault();var u=this.that.value.length,l=this.settings.aSign.length,c=n(this.that.value,"-")?1:0,g=this.settings.aSuffix.length,h=this.settings.pSign,f=this.settings.pNeg,d=void 0;d="s"===h?0:"l"===f&&1===c&&l>0?l+1:l;var m=void 0;if("p"===h)m=u-g;else switch(f){case"l":m=u-(g+l);break;case"r":m=l>0?u-(l+c+g):u-(l+g);break;default:m=u-(l+g)}p(this.that,d,m)}return!0}if((r||s)&&(a===K.c||a===K.v||a===K.x))return"keydown"===e.type&&this.expandSelectionOnSign(),a!==K.v&&a!==K.Insert||("keydown"===e.type||"keypress"===e.type?t(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||a===K.c;if(r||s)return!0;if(a===K.LeftArrow||a===K.RightArrow){var v=this.settingsClone.aSep,N=this.settingsClone.aDec,S=this.selection.start,y=this.that.value;return"keydown"!==e.type||this.shiftKey||(a!==K.LeftArrow||y.charAt(S-2)!==v&&y.charAt(S-2)!==N?a!==K.RightArrow||y.charAt(S+1)!==v&&y.charAt(S+1)!==N||this.setPosition(S+1):this.setPosition(S-1)),!0}return a>=K.PageDown&&a<=K.DownArrow},processTrailing:function(e){var t=s(e,2),a=t[0],i=t[1],r=this.settingsClone;return"p"===r.pSign&&"s"===r.pNeg&&(8===this.kdCode?(r.caretFix=Boolean(this.selection.start>=this.value.indexOf(r.aSuffix)&&""!==r.aSuffix),"-"===this.value.charAt(this.selection.start-1)?a=a.substring(1):this.selection.start<=this.value.length-r.aSuffix.length&&(a=a.substring(0,a.length-1))):(r.caretFix=Boolean(this.selection.start>=this.value.indexOf(r.aSuffix)&&""!==r.aSuffix),this.selection.start>=this.value.indexOf(r.aSign)+r.aSign.length&&(i=i.substring(1,i.length)),n(a,"-")&&"-"===this.value.charAt(this.selection.start)&&(a=a.substring(1)))),"s"===r.pSign&&"l"===r.pNeg&&(r.caretFix=Boolean(this.selection.start>=this.value.indexOf(r.aNeg)+r.aNeg.length),8===this.kdCode?this.selection.start===this.value.indexOf(r.aNeg)+r.aNeg.length&&n(this.value,r.aNeg)?a=a.substring(1):"-"!==a&&(this.selection.start<=this.value.indexOf(r.aNeg)||!n(this.value,r.aNeg))&&(a=a.substring(0,a.length-1)):("-"===a[0]&&(i=i.substring(1)),this.selection.start===this.value.indexOf(r.aNeg)&&n(this.value,r.aNeg)&&(a=a.substring(1)))),"s"===r.pSign&&"r"===r.pNeg&&(r.caretFix=Boolean(this.selection.start>=this.value.indexOf(r.aNeg)+r.aNeg.length),8===this.kdCode?this.selection.start===this.value.indexOf(r.aNeg)+r.aNeg.length?a=a.substring(1):"-"!==a&&this.selection.start<=this.value.indexOf(r.aNeg)-r.aSign.length?a=a.substring(0,a.length-1):""===a||n(this.value,r.aNeg)||(a=a.substring(0,a.length-1)):(r.caretFix=Boolean(this.selection.start>=this.value.indexOf(r.aSign)&&""!==r.aSign),this.selection.start===this.value.indexOf(r.aNeg)&&(a=a.substring(1)),i=i.substring(1))),[a,i]},processAlways:function(){var e=this.settingsClone;if(this.kdCode===K.Backspace||this.kdCode===K.Delete){var t=void 0,a=void 0;if(this.selection.length){this.expandSelectionOnSign(!1);var i=this.getBeforeAfterStriped(),r=s(i,2);t=r[0],a=r[1],this.setValueParts(t,a)}else{var o=this.getBeforeAfterStriped(),u=s(o,2);if(t=u[0],a=u[1],""===t&&""===a&&(e.throwInput=!1),("p"===e.pSign&&"s"===e.pNeg||"s"===e.pSign&&("l"===e.pNeg||"r"===e.pNeg))&&n(this.value,"-")){var l=this.processTrailing([t,a]),c=s(l,2);t=c[0],a=c[1]}else 8===this.kdCode?t=t.substring(0,t.length-1):a=a.substring(1,a.length);this.setValueParts(t,a)}return!0}return!1},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),a=this.getBeforeAfterStriped(),i=s(a,2),r=i[0],o=i[1];return e.throwInput=!0,t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&this.kdCode===K.DotNumpad?!e.mDec||!e.aDec||(!(!e.aNeg||!n(o,e.aNeg))||(!!n(r,e.aDec)||(o.indexOf(e.aDec)>0||(0===o.indexOf(e.aDec)&&(o=o.substr(1)),this.setValueParts(r+e.aDec,o,null),!0)))):"-"!==t&&"+"!==t||"-"!==e.aNeg?t>="0"&&t<="9"?(e.aNeg&&""===r&&n(o,e.aNeg)&&(r=e.aNeg,o=o.substring(1,o.length)),e.vMax<=0&&e.vMin<e.vMax&&!n(this.value,e.aNeg)&&"0"!==t&&(r=e.aNeg+r),this.setValueParts(r+t,o,null),!0):(e.throwInput=!1,!0):!e||("p"===e.pSign&&"s"===e.pNeg||"s"===e.pSign&&"p"!==e.pNeg?(""===r&&n(o,e.aNeg)&&(r=e.aNeg,o=o.substring(1,o.length)),r="-"===r.charAt(0)||n(r,e.aNeg)?r.substring(1,r.length):"-"===t?e.aNeg+r:r):(""===r&&n(o,e.aNeg)&&(r=e.aNeg,o=o.substring(1,o.length)),r=r.charAt(0)===e.aNeg?r.substring(1,r.length):"-"===t?e.aNeg+r:r),this.setValueParts(r,o,null),!0)},formatQuick:function(t){var a=this,i=this.settingsClone,o=this.value,u=t.keyCode,l=this.getBeforeAfterStriped(),c=s(l,1),g=c[0];if((""===i.aSep||""!==i.aSep&&!n(o,i.aSep))&&(""===i.aSign||""!==i.aSign&&!n(o,i.aSign))){var h=o.split(i.aDec),p=s(h,1),f=p[0],d="";n(f,"-")&&(d="-",f=f.replace("-",""),g=g.replace("-","")),""===d&&f.length>i.mIntPos&&"0"===g.charAt(0)&&(g=g.slice(1)),"-"===d&&f.length>i.mIntNeg&&"0"===g.charAt(0)&&(g=g.slice(1)),g=d+g}var m=k(this.value,this.settingsClone),v=m.length;if(m){var N=g.split("");("s"===i.pNeg||"s"===i.pSign&&"p"!==i.pNeg)&&"-"===N[0]&&""!==i.aNeg&&(N.shift(),"s"!==i.pSign||"l"!==i.pNeg||u!==K.Backspace&&this.kdCode!==K.Backspace&&u!==K.Delete&&this.kdCode!==K.Delete||!i.caretFix||(N.push("-"),i.caretFix=Boolean("keydown"===t.type)),"p"!==i.pSign||"s"!==i.pNeg||u!==K.Backspace&&this.kdCode!==K.Backspace&&u!==K.Delete&&this.kdCode!==K.Delete||!i.caretFix||(N.push("-"),i.caretFix=Boolean("keydown"===t.type)),"s"!==i.pSign||"r"!==i.pNeg||u!==K.Backspace&&this.kdCode!==K.Backspace&&u!==K.Delete&&this.kdCode!==K.Delete||!i.caretFix||!function(){var n=i.aSign.split(""),s=["\\","^","$",".","|","?","*","+","(",")","["],o=[];e.each(n,function(e,t){t=n[e],r(t,s)?o.push("\\"+t):o.push(t)}),u!==K.Backspace&&a.kdCode!==K.Backspace||o.push("-"),N.push(o.join("")),i.caretFix=Boolean("keydown"===t.type)}());for(var S=0;S<N.length;S++)N[S].match("\\d")||(N[S]="\\"+N[S]);var y=new RegExp("^.*?"+N.join(".*?")),D=m.match(y);D?(v=D[0].length,(0===v&&m.charAt(0)!==i.aNeg||1===v&&m.charAt(0)===i.aNeg)&&i.aSign&&"p"===i.pSign&&(v=this.settingsClone.aSign.length+("-"===m.charAt(0)?1:0))):(i.aSign&&"s"===i.pSign&&(v-=i.aSign.length),i.aSuffix&&(v-=i.aSuffix.length))}this.that.value=m,this.setPosition(v),this.formatted=!0}};var z={init:function(t){return this.each(function(){var i=e(this),u=i.data(),l=i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"),c=i.data("autoNumeric");if("object"===("undefined"==typeof c?"undefined":o(c)))return this;c=e.extend({},e.fn.autoNumeric.defaults,u,t,{onOff:!1,runOnce:!1,rawValue:"",trailingNegative:!1,caretFix:!1,throwInput:!0,strip:!0,tagList:["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"]}),c.aDec===c.aSep&&f("autoNumeric will not function properly when the decimal character aDec ["+c.aDec+"] and the thousand separator aSep ["+c.aSep+"] are the same character",c.debug),e.each(c,function(e,t){"true"!==t&&"false"!==t||(c[e]=Boolean("true"===t))}),i.data("autoNumeric",c),c=R(c);var g=M(i,c);if(c.mDec=c.scaleDivisor&&c.scaleDecimal?c.scaleDecimal:c.mDec,l||"input"!==i.prop("tagName").toLowerCase()||f('The input type "'+i.prop("type")+'" is not supported by autoNumeric',c.debug),r(i.prop("tagName").toLowerCase(),c.tagList)||"input"===i.prop("tagName").toLowerCase()||f("The <"+i.prop("tagName").toLowerCase()+"> tag is not supported by autoNumeric",c.debug),c.aDec===c.aSep&&f("autoNumeric will not function properly when the decimal character aDec ["+c.aDec+"] and the thousand separator aSep ["+c.aSep+"] are the same character",c.debug),c.eDec<c.mDec&&null!==c.eDec&&f("autoNumeric will not function properly when the extended decimal places eDec ["+c.eDec+"] is greater than the mDec ["+c.mDec+"] value",c.debug),c.runOnce===!1&&c.aForm){var h=!0;if(l){var d=i.val();if(c.aForm&&""!==d&&a(i.attr("value"))){var m=parseFloat(d.replace(",","."));isNaN(m)||1/0===m?f("The value ["+d+"] used in the input is not a valid value autoNumeric can work with.",!1):(i.autoNumeric("set",m),h=!1)}else if(null!==c.anDefault&&c.anDefault.toString()!==d||null===c.anDefault&&""!==d&&d!==i.attr("value")||""!==d&&"hidden"===i.attr("type")&&!e.isNumeric(d.replace(",","."))){if(null!==c.eDec&&c.aStor&&(c.rawValue=I(i,c,"get")),c.scaleDivisor&&c.aStor&&(c.rawValue=I(i,c,"get")),!c.aStor){var v=void 0;null!==c.nBracket&&""!==c.aNeg?(c.onOff=!0,v=S(d,c)):v=d,c.rawValue=("s"===c.pNeg||"s"===c.pSign&&"p"!==c.pNeg)&&""!==c.aNeg&&n(d,"-")?"-"+N(v,c):N(v,c)}h=!1}if(""===d)switch(c.wEmpty){case"focus":h=!1;break;case"always":i.val(c.aSign),h=!1;break;case"zero":i.autoNumeric("set","0"),h=!1}else h&&d===i.attr("value")&&i.autoNumeric("set",d)}r(i.prop("tagName").toLowerCase(),c.tagList)&&""!==i.text()&&(null!==c.anDefault?c.anDefault===i.text()&&i.autoNumeric("set",i.text()):i.autoNumeric("set",i.text()))}c.runOnce=!0,l&&(i.on("focusin.autoNumeric",function(){g=M(i);var e=g.settingsClone;e.onOff=!0,null!==e.nBracket&&""!==e.aNeg&&i.val(S(i.val(),e));var t=void 0;e.eDec?(e.mDec=e.eDec,i.autoNumeric("set",e.rawValue)):e.scaleDivisor?(e.mDec=e.oDec,i.autoNumeric("set",e.rawValue)):e.nSep?(e.aSep="",e.aSign="",e.aSuffix="",i.autoNumeric("set",e.rawValue)):(t=N(i.val(),e))!==e.rawValue&&i.autoNumeric("set",t),g.inVal=i.val(),g.lastVal=g.inVal;var a=x(g.inVal,e,!0);null!==a&&""!==a&&"focus"===e.wEmpty&&i.val(a)}),i.on("keydown.autoNumeric",function(e){if(g=M(i),g.that.readOnly)return g.processed=!0,!0;if(g.init(e),g.skipAlways(e))return g.processed=!0,!0;if(g.processAlways()){g.processed=!0,g.formatQuick(e);var t=i.val();return t!==g.lastVal&&g.settingsClone.throwInput&&i.trigger("input"),g.lastVal=t,g.settingsClone.throwInput=!0,e.preventDefault(),!1}return g.formatted=!1,!0}),i.on("keypress.autoNumeric",function(e){if(!e.shiftKey||e.keyCode!==K.Insert){g=M(i);var t=g.processed;if(g.init(e),g.skipAlways(e))return!0;if(t)return e.preventDefault(),!1;if(g.processAlways()||g.processKeypress()){g.formatQuick(e);var a=i.val();return a!==g.lastVal&&g.settingsClone.throwInput&&i.trigger("input"),g.lastVal=a,g.settingsClone.throwInput=!0,void e.preventDefault()}g.formatted=!1}}),i.on("keyup.autoNumeric",function(e){g=M(i),g.init(e);var t=g.skipAlways(e),a=g.kdCode;return g.kdCode=0,delete g.valuePartsBeforePaste,i[0].value===g.settingsClone.aSign?"s"===g.settingsClone.pSign?p(this,0,0):p(this,g.settingsClone.aSign.length,g.settingsClone.aSign.length):a===K.Tab&&p(this,0,i.val().length),i[0].value===g.settingsClone.aSuffix&&p(this,0,0),""===g.settingsClone.rawValue&&""!==g.settingsClone.aSign&&""!==g.settingsClone.aSuffix&&p(this,0,0),null!==g.settingsClone.eDec&&g.settingsClone.aStor&&I(i,c,"set"),!!t||(""===this.value||void(g.formatted||g.formatQuick(e)))}),i.on("focusout.autoNumeric",function(){g=M(i);var e=i.val(),t=e,a=g.settingsClone;if(a.onOff=!1,a.aStor&&I(i,a,"set"),a.nSep===!0&&(a.aSep=a.oSep,a.aSign=a.oSign,a.aSuffix=a.oSuffix),null!==a.eDec&&(a.mDec=a.oDec,a.aPad=a.oPad,a.nBracket=a.oBracket),e=N(e,a),""!==e){a.trailingNegative&&(e="-"+e,a.trailingNegative=!1);var n=P(e,a),r=s(n,2),o=r[0],u=r[1];null===x(e,a)&&o&&u?(e=w(e,a.aDec,a.aNeg),a.rawValue=e,a.scaleDivisor&&(e/=a.scaleDivisor,e=e.toString()),a.mDec=a.scaleDivisor&&a.scaleDecimal?+a.scaleDecimal:a.mDec,e=A(e,a),e=b(e,a)):(o||i.trigger("autoNumeric:minExceeded"),u||i.trigger("autoNumeric:maxExceeded"),e=a.rawValue)}else"zero"===a.wEmpty?(a.rawValue="0",e=A("0",a)):a.rawValue="";var l=x(e,a,!1);null===l&&(l=k(e,a)),l!==t&&(l=a.scaleSymbol?l+a.scaleSymbol:l,i.val(l)),l!==g.inVal&&(i.change(),delete g.inVal)}),i.on("paste",function(e){function t(e){return N(e,g.settingsClone).replace(g.settingsClone.aDec,".")}function a(e){return""!==e&&!isNaN(e)}e.preventDefault(),g=M(i);var n=i.autoNumeric("get"),r=this.value||"",s=this.selectionStart||0,o=this.selectionEnd||0,u=r.substring(0,s),l=r.substring(o,r.length),c=t(e.originalEvent.clipboardData.getData("text/plain"));if(a(c)){var h=t(u+Number(c).valueOf()+l);a(h)&&Number(n).valueOf()!==Number(h).valueOf()&&(i.autoNumeric("set",h),i.trigger("input"))}else this.selectionStart=o}),i.closest("form").on("submit.autoNumeric",function(){if(g=M(i)){var e=g.settingsClone;e.unSetOnSubmit&&i.val(e.rawValue)}}))})},destroy:function(){return e(this).each(function(){var t=E(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":o(a))&&(t.val(""),I(t,a,"wipe"),t.removeData("autoNumeric"),t.off(".autoNumeric"))})},wipe:function(){return e(this).each(function(){var t=E(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":o(a))&&(t.val(""),a.rawValue="",I(t,a,"wipe"))})},update:function(t){return e(this).each(function(){var a=E(e(this)),i=a.data("autoNumeric");"object"!==("undefined"==typeof i?"undefined":o(i))&&f('Initializing autoNumeric is required prior to calling the "update" method',!0);var n=a.autoNumeric("get");if(i=e.extend(i,t),i.scaleDivisor&&(i.mDec=i.scaleDecimal?i.scaleDecimal:i.mDec),i=R(i),M(a,i,!0),i.aDec===i.aSep&&f('autoNumeric will not function properly when the decimal character aDec: "'+i.aDec+'" and thousand separator aSep: "'+i.aSep+'" are the same character',i.debug),a.data("autoNumeric",i),""!==a.val()||""!==a.text())return a.autoNumeric("set",n)})},set:function(a){return e(this).each(function(){if(null!==a&&!t(a)){var i=E(e(this)),n=i.data("autoNumeric"),u=i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"),l=a.toString();if("object"!==("undefined"==typeof n?"undefined":o(n))&&f('Initializing autoNumeric is required prior to calling the "set" method',!0),l=y(l),!e.isNumeric(Number(l)))return f('The value "'+l+'" being "set" is not numeric and has caused a error to be thrown',n.debug),i.val("");if(""===l)return i.val("");var c=P(l,n),g=s(c,2),h=g[0],p=g[1];if(!h||!p){n.rawValue="",I(i,n,"wipe");var d=l;return l="",h||i.trigger("autoNumeric:minExceeded"),p||i.trigger("autoNumeric:maxExceeded"),f("The value ["+d+"] being set falls outside the vMin ["+n.vMin+"] and vMax ["+n.vMax+"] settings for this element",n.debug),i.val("")}return u&&(n.eDec||n.scaleDivisor)&&(n.rawValue=l),(u||r(i.prop("tagName").toLowerCase(),n.tagList))&&(n.scaleDivisor&&!n.onOff&&(l/=n.scaleDivisor,l=l.toString(),n.mDec=n.scaleDecimal?n.scaleDecimal:n.mDec),l=A(l,n),null===n.eDec&&null===n.scaleDivisor&&(n.rawValue=l),l=b(l,n),l=k(l,n)),n.aStor&&(n.eDec||n.scaleDivisor)&&I(i,n,"set"),!n.onOff&&n.scaleSymbol&&(l+=n.scaleSymbol),u?i.val(l):!!r(i.prop("tagName").toLowerCase(),n.tagList)&&i.text(l)}})},unSet:function(){return e(this).each(function(){var t=E(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":o(a))&&(a.onOff=!0,t.val(t.autoNumeric("get")))})},reSet:function(){return e(this).each(function(){var t=E(e(this)),a=t.data("autoNumeric");"object"===("undefined"==typeof a?"undefined":o(a))&&t.autoNumeric("set",t.val())})},get:function(){var t=E(e(this)),a=t.data("autoNumeric"),i=t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])"),n="";if("object"!==("undefined"==typeof a?"undefined":o(a))&&f('Initializing autoNumeric is required prior to calling the "get" method',!0),i?n=t.eq(0).val():r(t.prop("tagName").toLowerCase(),a.tagList)?n=t.eq(0).text():f('The "<'+t.prop("tagName").toLowerCase()+'>" tag is not supported by autoNumeric',a.debug),a.eDec||a.scaleDivisor)n=a.rawValue;else{if(!/\d/.test(n)&&0!==Number(n)&&"focus"===a.wEmpty)return"";""!==n&&null!==a.nBracket&&(a.onOff=!0,n=S(n,a)),(a.runOnce||a.aForm===!1)&&(n=N(n,a)),n=w(n,a.aDec,a.aNeg)}return 0===Number(n)&&"keep"!==a.lZero&&(n="0"),a.localeOutput&&(n=D(n,a.localeOutput)),n},getFormatted:function(){return g(this)&&1===this.length&&this[0].hasOwnProperty("value")||f("Unable to get the formatted string from the element."),
this[0].value},getString:function(){return L(!1,this)},getArray:function(){return L(!0,this)},getSettings:function(){var t=E(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(e){if(z[e]){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return z[e].apply(this,a)}return"object"!==("undefined"==typeof e?"undefined":o(e))&&e?void f('Method "'+e+'" is not supported by autoNumeric',!0):z.init.apply(this,[e])},e.fn.autoNumeric.defaults={aSep:",",nSep:!1,dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",pNeg:"l",aSuffix:"",oLimits:null,vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,eDec:null,scaleDivisor:null,scaleDecimal:null,scaleSymbol:null,aStor:!1,mRound:"S",aPad:!0,nBracket:null,wEmpty:"focus",lZero:"allow",aForm:!0,sNumber:!1,anDefault:null,unSetOnSubmit:!1,localeOutput:null,debug:!1},c=function(){return e.fn.autoNumeric.defaults},u=function(a,i){if(t(a)||null===a)return null;var n=e.extend({},e.fn.autoNumeric.defaults,{strip:!1},i);if(a=a.toString(),a=y(a),Number(a)<0&&(n.aNeg="-"),null===n.mDec){var r=n.vMax.toString().split("."),o=n.vMin||0===n.vMin?n.vMin.toString().split("."):[];n.mDec=m(o,r)}var u=P(a,n),l=s(u,2),c=l[0],g=l[1];return c&&g||(T("autoFormat.autoNumeric","Range test failed"),f("The value ["+a+"] being set falls outside the vMin ["+n.vMin+"] and vMax ["+n.vMax+"] settings",n.debug)),a=A(a,n),a=b(a,n),a=k(a,n)},e.fn.autoFormat=u,l=function(a,i){if(t(a)||null===a)return null;var n=e.extend({},e.fn.autoNumeric.defaults,{strip:!1},i),r="-0123456789\\"+n.aDec,s=new RegExp("[^"+r+"]","gi");return a=a.toString(),"-"===a.charAt(0)?n.aNeg="-":n.nBracket&&n.nBracket.split(",")[0]===a.charAt(0)&&(n.aNeg="-",n.onOff=!0,a=S(a,n)),a=a.replace(s,""),a=a.replace(",","."),n.localeOutput&&(a=D(a,n.localeOutput)),Number(a)},e.fn.autoUnformat=l,function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}()})}).call(window)},function(t,a){t.exports=e}])});
//# sourceMappingURL=autoNumeric.min.js.map